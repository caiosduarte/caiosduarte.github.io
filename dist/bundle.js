!function(e){function t(n){if(o[n])return o[n].exports;var a=o[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,o){"use strict";o(1),o(2),o(3),o(4)},function(e,t,o){e.exports=o.p+"img/icon.png"},function(e,t){},function(e,t){},function(e,t,o){"use strict";function n(e){var t=document.querySelector("#form-ponto");e?t.descricao.classList.add("ponto-form__campo--alerta"):t.descricao.classList.remove("ponto-form__campo--alerta")}function a(e){d=e.coords.latitude,f=e.coords.longitude,document.querySelector("#lat-aproximada").value=d,document.querySelector("#lon-aproximada").value=f,p.centralizaMapa(d,f)}function r(e){throw console.log("Erro na API GEO: "+e.message),g.push("Erro na API GEO: "+e.message),new Error(e.message)}function i(e){d||centralizaMapa(e.coords.latitude,e.coords.longitude),d=e.coords.latitude,f=e.coords.longitude,navigator.geolocation.clearWatch(m),document.querySelector("#lat-precisa").value=d,document.querySelector("#lon-precisa").value=f}function c(e){console.log("Erro na API GEO: "+e.message),g.push("Erro na API GEO: "+e.message)}function u(){var e=document.querySelector("#descricao"),t=document.querySelector("#lista-pontos");try{var o=new l.Ponto(d,f,e.value);p.marcaPonto(o);var a="("+o.latitude+", "+o.longitude+")";t.innerHTML+='<li class="pontos__item"><a class="pontos__link" role="button" aria-label=\'Centraliza ponto "'+o.descricao+'" no mapa\' onclick="centraliza'+a+'"\n        onKeyDown="centralizaComTecla'+a+'">'+o.descricao+"</li>",e.value="",e.focus(),n(!1)}catch(e){n(!0)}}var l=o(5),s=o(6);if(window.initMap=function(){var e=new google.maps.Map(document.getElementById("map"),{center:{lat:-19.85,lng:-43.8},zoom:17});p=new s.MapaGoogleApi(e)},!("geolocation"in navigator))throw n(),new Error("API de geolocalização indisponível.");var d,f,p,g=[];try{navigator.geolocation.getCurrentPosition(a,r);var m=navigator.geolocation.watchPosition(i,c,{enableHighAccuracy:!0,maximumAge:3e4,timeout:27e3})}catch(e){n()}document.querySelector("#btn-marcar").addEventListener("click",function(e){e.preventDefault(),u()}),window.centraliza=function(e,t){p.centralizaMapa(e,t)},window.centralizaComTecla=function(){32!==event.keyCode&&13!==event.keyCode||(event.preventDefault(),centraliza(lat,lon))}},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=function(){function e(t,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(n(this,e),isNaN(Number(t))||isNaN(Number(o)))throw new Error("Latitude e longitude tem que serem numéricas");if(this.latitude=t,this.longitude=o,void 0==a||a.length<=0)throw new Error("Descrição do ponto é obrigatória");this.descricao=a}return a(e,[{key:"getDescricao",value:function(){return this.descricao}},{key:"getLatitude",value:function(){return this.latitude}},{key:"getLongitude",value:function(){return this.longitude}}]),e}();t.Ponto=r},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=function(){function e(t){var o=this;n(this,e),this.map=t,this.marcadores=new Set;for(var a=arguments.length,r=Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];r.forEach(function(e){return o.marcadores.add(o.getMarcador(e))})}return a(e,[{key:"getMarcador",value:function(e){return{position:this.getPosicao(e),title:e.getDescricao()}}},{key:"getPosicao",value:function(e){return{lat:e.getLatitude(),lng:e.getLongitude()}}},{key:"marcaPonto",value:function(e){new google.maps.Marker(this.getMarcador(e)).setMap(this.map),this.centralizaMapaNoPonto(e)}},{key:"centralizaMapaNoPonto",value:function(e){this.map.setCenter(this.getPosicao(e))}},{key:"centralizaMapa",value:function(e,t){var o={lat:e,lng:t};this.map.setCenter(o)}}]),e}();t.MapaGoogleApi=r}]);