!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";n(1),n(2),n(3),n(4),n(5),n(6),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(function(){console.log("service worker registrado")}).catch(function(e){console.warn("service worker não registrado. erro:",e)})},function(e,t,n){e.exports=n.p+"img/icon.png"},function(e,t,n){e.exports=n.p+"img/favicon.ico"},function(e,t){},function(e,t){},function(e,t,n){"use strict";self.addEventListener("install",function(e){e.waitUntil(caches.open("pontosgeo-v0").then(function(e){return e.addAll(["/","/index.html","/bundle.js","/style.css","/manifest.json","/img/icon.png"])}))}),self.addEventListener("activate",function(e){e.waitUntil(caches.keys().then(function(e){return Promise.all(e.filter(function(e){return 0!==e.indexOf("pontosgeo-v0")}).map(function(e){return caches.delete(e)}))}))}),self.addEventListener("fetch",function(e){e.respondWith(caches.match(e.request).then(function(t){return t||fetch(e.request)}))})},function(e,t,n){"use strict";function o(e){var t=document.querySelector("#form-ponto");e?t.descricao.classList.add("ponto-form__campo--alerta"):t.descricao.classList.remove("ponto-form__campo--alerta")}function r(e){d=e.coords.latitude,f=e.coords.longitude,document.querySelector("#lat-aproximada").value=d,document.querySelector("#lon-aproximada").value=f}function a(e){throw console.log("Erro na API GEO: "+e.message),p.push("Erro na API GEO: "+e.message),new Error(e.message)}function i(e){d=e.coords.latitude,f=e.coords.longitude,navigator.geolocation.clearWatch(m),document.querySelector("#lat-precisa").value=d,document.querySelector("#lon-precisa").value=f,centraliza(e.coords.latitude,e.coords.longitude)}function c(e){console.log("Erro na API GEO: "+e.message),p.push("Erro na API GEO: "+e.message)}function u(){var e=document.querySelector("#descricao"),t=document.querySelector("#lista-pontos");try{var n=new l.Ponto(d,f,e.value);g.marcaPonto(n);var r="("+n.latitude+", "+n.longitude+")";t.innerHTML+='<li class="pontos__item"><a class="pontos__link" role="button" aria-label=\'Centraliza ponto "'+n.descricao+'" no mapa\' onclick="centraliza'+r+'"\n        onKeyDown="centralizaComTecla'+r+'">'+n.descricao+"</li>",e.value="",e.focus(),o(!1)}catch(e){o(!0)}}var l=n(7),s=n(8);if(window.initMap=function(){var e=new google.maps.Map(document.getElementById("map"),{center:{lat:-19.85,lng:-43.8},zoom:17});g=new s.MapaGoogleApi(e)},!("geolocation"in navigator))throw o(),new Error("API de geolocalização indisponível.");var d,f,g,p=[];try{navigator.geolocation.getCurrentPosition(r,a);var m=navigator.geolocation.watchPosition(i,c,{enableHighAccuracy:!0,maximumAge:3e4,timeout:27e3})}catch(e){o()}window.centraliza=function(e,t){g&&g.centralizaMapa(e,t)},window.centralizaComTecla=function(){32!==event.keyCode&&13!==event.keyCode||(event.preventDefault(),centraliza(lat,lon))},window.abreLateral=function(){document.getElementById("mySidenav").style.width="315px"},window.fechaLateral=function(){document.getElementById("mySidenav").style.width="0"},document.querySelector("#btn-marcar").addEventListener("click",function(e){e.preventDefault(),u()})},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(o(this,e),isNaN(Number(t))||isNaN(Number(n)))throw new Error("Latitude e longitude tem que serem numéricas");if(this.latitude=t,this.longitude=n,void 0==r||r.length<=0)throw new Error("Descrição do ponto é obrigatória");this.descricao=r}return r(e,[{key:"getDescricao",value:function(){return this.descricao}},{key:"getLatitude",value:function(){return this.latitude}},{key:"getLongitude",value:function(){return this.longitude}}]),e}();t.Ponto=a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(t){var n=this;o(this,e),this.map=t,this.marcadores=new Set;for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];a.forEach(function(e){return n.marcadores.add(n.getMarcador(e))})}return r(e,[{key:"getMarcador",value:function(e){return{position:this.getPosicao(e),title:e.getDescricao()}}},{key:"getPosicao",value:function(e){return{lat:e.getLatitude(),lng:e.getLongitude()}}},{key:"marcaPonto",value:function(e){new google.maps.Marker(this.getMarcador(e)).setMap(this.map),this.centralizaMapaNoPonto(e)}},{key:"centralizaMapaNoPonto",value:function(e){this.map.setCenter(this.getPosicao(e))}},{key:"centralizaMapa",value:function(e,t){var n={lat:e,lng:t};this.map.setCenter(n)}}]),e}();t.MapaGoogleApi=a}]);